# Enhanced Ability Card: Cluster Prompts

**File:** `research_review/pending/codex-main\codex-cli\examples\prompt-analyzer\template\cluster_prompts.py`  
**Full Path:** `C:\Source-Codebase\research_review\pending\codex-main\codex-cli\examples\prompt-analyzer\template\cluster_prompts.py`  
**Language:** Python  
**Analysis Level:** Enhanced with AI

## Description

Code analysis summary unavailable. Context: File: research_review/pending/codex-main\codex-cli\examples\prompt-analyzer\template\cluster_prompts.py

## Technical Details

- **Functions:** 11
- **Classes:** 0
- **Imports:** 19
- **Complexity:** medium


## Frameworks & Libraries

- Argparse
- NumPy
- Pandas
- Scikit-learn
- OpenAI


## Functions

- **parse_cli**(): Parse command‑line arguments.
- **_lazy_import_openai**(): Import *openai* only when needed to keep startup lightweight.
- **embed_texts**(texts, model, batch_size): Embed *texts* with OpenAI and return a list of vectors.
- **load_or_create_embeddings**(prompts): Return a *DataFrame* with one row per prompt and the embedding columns.
- **_lazy_import_sklearn_cluster**(): Lazy import helper for scikit‑learn *cluster* sub‑module.
- **cluster_kmeans**(matrix, k_max): Auto‑select *k* (in ``[2, k_max]``) via Silhouette score and cluster.
- **cluster_dbscan**(matrix, min_samples): Cluster with DBSCAN; *eps* is estimated via the k‑distance method.
- **label_clusters**(df, labels, chat_model, max_examples): Generate a name & description for each cluster label via ChatGPT.
- **generate_markdown_report**(df, labels, meta, outputs, path_md): Write a self‑contained Markdown analysis to *path_md*.
- **create_plots**(matrix, labels, for_devs, plots_dir): Generate cluster size and t‑SNE plots.
- **main**(): No description available

---
*Generated by AIPass-Code-Sniffer Enhanced Analyzer*
